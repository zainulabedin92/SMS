{"version":3,"file":"preview.js","mappings":"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","sources":["webpack://thimpress-customizer/./src/postmessage/index.ts","webpack://thimpress-customizer/external window [\"wp\",\"hooks\"]","webpack://thimpress-customizer/webpack/bootstrap","webpack://thimpress-customizer/webpack/runtime/compat get default export","webpack://thimpress-customizer/webpack/runtime/define property getters","webpack://thimpress-customizer/webpack/runtime/hasOwnProperty shorthand","webpack://thimpress-customizer/webpack/runtime/make namespace object","webpack://thimpress-customizer/./src/Preview.ts"],"sourcesContent":["import { applyFilters } from '@wordpress/hooks';\n\nconst thimPostMessage = {\n\n    fields: {},\n\n    styleTag: {\n\n        add: function (id) {\n            id = id.replace(/[^\\w\\s]/gi, '-');\n            if (null === document.getElementById('thim-postmessage-' + id) || 'undefined' === typeof document.getElementById('thim-postmessage-' + id)) {\n                jQuery('head').append('<style id=\"thim-customizer-postmessage-' + id + '\"></style>');\n            }\n        },\n\n        addData: function (id, styles) {\n            id = id.replace('[', '-').replace(']', '');\n            thimPostMessage.styleTag.add(id);\n            jQuery('#thim-customizer-postmessage-' + id).text(styles);\n        }\n    },\n\n    util: {\n\n        processValue: function (output, value) {\n            var self = this,\n                settings = window.parent.wp.customize.get(),\n                excluded = false;\n\n            if ('object' === typeof value) {\n                _.each(value, function (subValue, key) {\n                    value[key] = self.processValue(output, subValue);\n                });\n                return value;\n            }\n            output = _.defaults(output, {\n                prefix: '',\n                units: '',\n                suffix: '',\n                value_pattern: '$',\n                pattern_replace: {},\n                exclude: []\n            });\n\n            if (1 <= output.exclude.length) {\n                _.each(output.exclude, function (exclusion) {\n                    if (value == exclusion) {\n                        excluded = true;\n                    }\n                });\n            }\n\n            if (excluded) {\n                return false;\n            }\n\n            value = output.value_pattern.replace(new RegExp('\\\\$', 'g'), value);\n            _.each(output.pattern_replace, function (id, placeholder) {\n                if (!_.isUndefined(settings[id])) {\n                    value = value.replace(placeholder, settings[id]);\n                }\n            });\n            return output.prefix + value + output.units + output.suffix;\n        },\n\n        backgroundImageValue: function (url) {\n            return (-1 === url.indexOf('url(')) ? 'url(' + url + ')' : url;\n        }\n    },\n\n    css: {\n\n        fromOutput: function (output, value, controlType) {\n            var styles = '',\n                mediaQuery = false,\n                processedValue;\n\n            try {\n                value = JSON.parse(value);\n            } catch (e) { }\n\n            if (output.js_callback && 'function' === typeof window[output.js_callback]) {\n                value = window[output.js_callback[0]](value, output.js_callback[1]);\n            }\n\n            styles = applyFilters('thimCustomizerPostMessageStylesOutput', styles, value, output, controlType);\n\n            if ('' === styles) {\n                switch (controlType) {\n                    case 'thim-multicolor':\n                    case 'thim-sortable':\n                        styles += output.element + '{';\n                        _.each(value, function (val, key) {\n                            if (output.choice && key !== output.choice) {\n                                return;\n                            }\n\n                            processedValue = thimPostMessage.util.processValue(output, val);\n\n                            if ('' === processedValue) {\n                                if ('background-color' === output.property) {\n                                    processedValue = 'unset';\n                                } else if ('background-image' === output.property) {\n                                    processedValue = 'none';\n                                }\n                            }\n\n                            var customProperty = controlType === 'thim-sortable' ? output.property + '-' + key : output.property;\n\n                            if (false !== processedValue) {\n                                styles += output.property ? customProperty + \":\" + processedValue + \";\" : key + \":\" + processedValue + \";\";\n                            }\n                        });\n                        styles += '}';\n                        break;\n                    default:\n                        if ('thim-image' === controlType) {\n                            value = (!_.isUndefined(value.url)) ? thimPostMessage.util.backgroundImageValue(value.url) : thimPostMessage.util.backgroundImageValue(value);\n                        }\n                        if (_.isObject(value)) {\n                            styles += output.element + '{';\n                            _.each(value, function (val, key) {\n                                var property;\n                                if (output.choice && key !== output.choice) {\n                                    return;\n                                }\n                                processedValue = thimPostMessage.util.processValue(output, val);\n                                property = output.property ? output.property : key;\n\n                                if ('' === processedValue) {\n                                    if ('background-color' === property) {\n                                        processedValue = 'unset';\n                                    } else if ('background-image' === property) {\n                                        processedValue = 'none';\n                                    }\n                                }\n\n                                if (false !== processedValue) {\n                                    styles += property + ':' + processedValue + ';';\n                                }\n                            });\n                            styles += '}';\n                        } else {\n                            processedValue = thimPostMessage.util.processValue(output, value);\n                            if ('' === processedValue) {\n                                if ('background-color' === output.property) {\n                                    processedValue = 'unset';\n                                } else if ('background-image' === output.property) {\n                                    processedValue = 'none';\n                                }\n                            }\n\n                            if (false !== processedValue) {\n                                styles += output.element + '{' + output.property + ':' + processedValue + ';}';\n                            }\n                        }\n                        break;\n                }\n            }\n\n            if (output.media_query && 'string' === typeof output.media_query && !_.isEmpty(output.media_query)) {\n                mediaQuery = output.media_query;\n\n                if (-1 === mediaQuery.indexOf('@media')) {\n                    mediaQuery = '@media ' + mediaQuery;\n                }\n            }\n\n            if (mediaQuery) {\n                return mediaQuery + '{' + styles + '}';\n            }\n\n            return styles;\n        }\n    },\n\n    html: {\n        fromOutput: function (output, value) {\n            if (output.js_callback && 'function' === typeof window[output.js_callback]) {\n                value = window[output.js_callback[0]](value, output.js_callback[1]);\n            }\n\n            if (_.isObject(value) || _.isArray(value)) {\n                if (!output.choice) {\n                    return;\n                }\n                _.each(value, function (val, key) {\n                    if (output.choice && key !== output.choice) {\n                        return;\n                    }\n                    value = val;\n                });\n            }\n            value = thimPostMessage.util.processValue(output, value);\n\n            if (output.attr) {\n                jQuery(output.element).attr(output.attr, value);\n            } else {\n                jQuery(output.element).html(value);\n            }\n        }\n    },\n\n    toggleClass: {\n        fromOutput: function (output, value) {\n            if ('undefined' === typeof output.class || 'undefined' === typeof output.value) {\n                return;\n            }\n\n            if (value === output.value && !jQuery(output.element).hasClass(output.class)) {\n                jQuery(output.element).addClass(output.class);\n            } else {\n                jQuery(output.element).removeClass(output.class);\n            }\n        }\n    }\n};\n\nexport default function ThimPostMessageOutput() {\n    let styles: string = '';\n\n    _.each(thimPostMessageFields, function (field) {\n        var fieldSetting = field.id;\n\n        if (\"option\" === field.option_type && field.option_name && 0 !== fieldSetting.indexOf(field.option_name + '[')) {\n            fieldSetting = field.option_name + \"[\" + fieldSetting + \"]\";\n        }\n\n        wp.customize(fieldSetting, function (value) {\n            value.bind(function (newVal) {\n                styles = '';\n                _.each(field.js_vars, function (output) {\n                    output.function = (!output.function || 'undefined' === typeof thimPostMessage[output.function]) ? 'css' : output.function;\n                    field.type = (field.choices && field.choices.parent_type) ? field.choices.parent_type : field.type;\n\n                    if ('css' === output.function) {\n                        styles += thimPostMessage.css.fromOutput(output, newVal, field.type);\n                    } else {\n                        thimPostMessage[output.function].fromOutput(output, newVal, field.type);\n                    }\n                });\n\n                thimPostMessage.styleTag.addData(fieldSetting, styles);\n            });\n        });\n    });\n};\n","module.exports = window[\"wp\"][\"hooks\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\nimport ThimPostMessageOutput from './postmessage';\n\njQuery(document).ready(function () {\n    ThimPostMessageOutput();\n});"],"names":["applyFilters","thimPostMessage","fields","styleTag","add","id","replace","document","getElementById","jQuery","append","addData","styles","text","util","processValue","output","value","self","settings","window","parent","wp","customize","get","excluded","_","each","subValue","key","defaults","prefix","units","suffix","value_pattern","pattern_replace","exclude","length","exclusion","RegExp","placeholder","isUndefined","backgroundImageValue","url","indexOf","css","fromOutput","controlType","mediaQuery","processedValue","JSON","parse","e","js_callback","element","val","choice","property","customProperty","isObject","media_query","isEmpty","html","isArray","attr","toggleClass","class","hasClass","addClass","removeClass","ThimPostMessageOutput","thimPostMessageFields","field","fieldSetting","option_type","option_name","bind","newVal","js_vars","function","type","choices","parent_type","ready"],"sourceRoot":""}